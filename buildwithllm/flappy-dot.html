<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flappy Bird</title>
<style>
body { margin: 0; overflow: hidden; touch-action: none; }
#game { background: #70c5ce; }
</style>
</head>
<body>
<canvas id="game"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
let bird = { x: 50, y: 150, velocity: 0, radius: 15 };
let pipes = [];
let score = 0;
let isGameOver = false;
const gravity = 0.3;
const jump = -6;
const pipeWidth = 50;
const pipeGap = 150;
const pipeSpeed = 1.5;
function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
function createPipe() {
  const minHeight = 50;
  const maxHeight = canvas.height - pipeGap - minHeight;
  const pipeHeight = Math.random() * (maxHeight - minHeight) + minHeight;
  pipes.push({ x: canvas.width, top: pipeHeight, bottom: pipeHeight + pipeGap });
}
function drawBird() {
  ctx.fillStyle = '#FFD700';
  ctx.beginPath();
  ctx.arc(bird.x, bird.y, bird.radius, 0, Math.PI * 2);
  ctx.fill();
}
function drawPipes() {
  ctx.fillStyle = '#00AA00';
  pipes.forEach(pipe => {
    ctx.fillRect(pipe.x, 0, pipeWidth, pipe.top);
    ctx.fillRect(pipe.x, pipe.bottom, pipeWidth, canvas.height - pipe.bottom);
  });
}
function drawScore() {
  ctx.fillStyle = '#000';
  ctx.font = '24px Arial';
  ctx.fillText(`Score: ${score}`, 10, 30);
}
function update() {
  if (isGameOver) return;
  bird.velocity += gravity;
  bird.y += bird.velocity;
  if (bird.y + bird.radius > canvas.height) {
    gameOver();
    return;
  }
  pipes.forEach(pipe => {
    pipe.x -= pipeSpeed;
    if (pipe.x + pipeWidth < 0) {
      pipes.shift();
      score++;
    }
    if (
      bird.x + bird.radius > pipe.x &&
      bird.x - bird.radius < pipe.x + pipeWidth &&
      (bird.y - bird.radius < pipe.top || bird.y + bird.radius > pipe.bottom)
    ) {
      gameOver();
    }
  });
  if (pipes.length === 0 || pipes[pipes.length - 1].x < canvas.width - 250) {
    createPipe();
  }
}
function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawBird();
  drawPipes();
  drawScore();
  if (isGameOver) {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#FFF';
    ctx.font = '36px Arial';
    ctx.fillText('Game Over', canvas.width / 2 - 70, canvas.height / 2);
    ctx.fillText(`Score: ${score}`, canvas.width / 2 - 50, canvas.height / 2 + 50);
    ctx.font = '24px Arial';
    ctx.fillText('Touch, Click or press Space to restart', canvas.width / 2 - 120, canvas.height / 2 + 100);
  }
}
function gameLoop() {
  update();
  draw();
  requestAnimationFrame(gameLoop);
}
function gameOver() {
  isGameOver = true;
}
function restart() {
  bird = { x: 50, y: 150, velocity: 0, radius: 15 };
  pipes = [];
  score = 0;
  isGameOver = false;
}
function handleInput(e) {
  e.preventDefault();
  if (isGameOver) {
    restart();
  } else {
    bird.velocity = jump;
  }
}
window.addEventListener('resize', resize);
canvas.addEventListener('touchstart', handleInput);
canvas.addEventListener('click', handleInput);
window.addEventListener('keydown', (e) => {
  if (e.code === 'Space') {
    handleInput(e);
  }
});
resize();
gameLoop();
</script>
</body>
</html>